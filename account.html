<!DOCTYPE html>
<html lang="en">
    <head>
        <title>Inscription</title>
        <meta charset="UTF-8"/>
        <script src="scripts/shared.js"></script>
        <link rel="stylesheet" type="text/css" href="styles/shared.css"/>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
        <style>

#area_fill {
    padding: 20px;
}

table {
    width: 100%;
}
td:first-child {
    width: 40%;
}
td + td {
    width: 60%;
}

input {
    min-width: 0;
    margin-bottom: 8px;
    width: 100%;
}

        </style>
    </head>  
    <body style="background-color: #f6f6f6;">
        <div id="page" class="centeredcol">
            <div id="area_top" class="area centeredcol">
                <h1 id="mode_title" class="text-center">Inscription</h1>
            </div>
            
        <div id="area_fill" class="area">
            <table>
                <tr>
                    <td><label for="nom">Nom </label></td>
                    <td><input class="form-control" type="text" id="nom" name="nom" placeholder="Nom" ></td>
                </tr>
                <tr>
                    <td><label for="prenom">Prénom </label></td>
                    <td><input class="form-control" type="text" id="prenom" name="prenom" placeholder="Prénom" ></td>
                </tr>
                <tr>
                    <td><label for="e-mail INSA">E-Mail INSA </label></td>
                    <td><input class="form-control" type="email" id="e-mail INSA" name="e-mail INSA" placeholder="E-Mail INSA" value="@insa-lyon.fr"></td>
                </tr>
                <tr>
                    <td><label for="mot de passe">Mot de passe </label></td>
                    <td><input class="form-control" type="password" id="mot de passe" name="mot de passe" placeholder="Mot de passe" ></td>
                </tr>
                <tr>
                    <td><label for="confirmation">Confirmation </label></td>
                    <td><input class="form-control" type="password" id="confirmation" name="confirmation" placeholder="Confirmation du mot de passe" ></td>
                </tr>
                <tr>
                    <td><label for="moodN">Année</label></td>
                    <td>
                        <div class="text-right">
                            <select id="moodN">
                                  <option>1</option>
                                  <option>2</option>
                                  <option>3</option>
                                  <option>4</option>
                                  <option>5</option>
                                  <option>6</option>
                              </select>
                              <select id="moodDPT">
                                  <option>PC</option>
                                  <option>BS</option>
                                  <option>GCU</option>
                                  <option>GE</option>
                                  <option>GEN</option>
                                  <option>GI</option>
                                  <option>GM</option>
                                  <option>IF</option>
                                  <option>SGM</option>
                                  <option>TC</option>
                              </select>
                        </div>
                    </td>
                </tr>
            </table>
        </div>
        
        <br/>
        <br/>
        
        <div id="area_bottom" class="area centeredrow">
            <a id="mode_back" href="index.html"><button class="btn btn-primary" type="button">Annuler</button></a>
            <a id="mode_link" href="index.html?msg=new"><button id="mode_ok" class="btn btn-primary" type="button">S'inscire</button></a>
        </div>
        </div>
        <script type="text/javascript">
            function init() {
                $("#moodN").on("change", function() {
                    var limit = $(this)[0].value < 3;
                    var item = document.getElementById("moodDPT");
                    // item.disabled = limit;
                    if (limit)
                        item.value = "PC";
                    else if (item.value == "PC")
                        item.value = "IF";
                    $("#moodDPT option").each(function() {$(this)[0].disabled = limit;});
                    $("#moodDPT option:first-child")[0].disabled = !limit;
                }).trigger("change");
                
                if (getUrlParameter("mode") == "edit") {
                    document.getElementById("mode_back").href = "home.html";
                    document.getElementById("mode_link").href = "home.html?msg=edit";
                    document.getElementById("mode_title").innerText = "Mon compte";
                    document.getElementById("mode_ok").innerText = "Confirmer";
                    document.getElementById("nom").value = "MEUNIER";
                    document.getElementById("prenom").value = "Thomas";
                    document.getElementById("e-mail INSA").value = "thomas.meunier@insa-lyon.fr";
                    document.getElementById("e-mail INSA").readOnly = true;
                    document.getElementById("mot de passe").value = "thomasmeunier";
                    document.getElementById("confirmation").value = "thomasmeunier";
                    document.getElementById("moodN").value = "3";
                    document.getElementById("moodDPT").value = "IF";
                }
            }
            ready(init);
        </script>
    </body>
</html>